<h1>Incoming messages</h1>

<table>
  <tr class="message_line">
    <th><p class="message_text">Message from:</p></th>
    <th><p class="message_text">Subject:</p></th>
    <th><p class="message_text">Date:</p></th>
    <th><p class="message_text"></p></th>
  </tr>

<% @incomingmessages.each do |message| %>
  <tr class="message_line">
  	
  	<% if message.read %>
    	<td><p class="message_text"><%= message.sender %></p></td>
    	<td><p class="message_text"><%= link_to message.subject, message %></p></td>
    	<td><p class="message_text"><%= message.created_at %></p></td>
    <% else %>
        <td><p class="message_text"><b><%= message.sender %></b></p></td>
    	<td><p class="message_text"><b><%= link_to message.subject, message %></b></p></td>
    	<td><p class="message_text"><b><%= message.created_at %></b></p></td>

    <% end %>
    
    <td><p class="message_text"><%= link_to 'Delete', message, confirm: 'Are you sure?', method: :delete %></p></td>
  </tr>
<% end %>
</table>

<br />

<h1>Outgoing messages</h1>

<table>
  <tr class="message_line">
    <th><p class="message_text">Message sent to:</p></th>
    <th><p class="message_text">Subject:</p></th>
    <th><p class="message_text">Date:</p></th>
    <th><p class="message_text"></p></th>
  </tr>

<% @outgoingmessages.each do |message| %>
  <tr class="message_line">
    <td><p class="message_text"><%= message.receiver %></p></td>
    <td><p class="message_text"><%= link_to message.subject, message %></p></td>
    <td><p class="message_text"><%= message.created_at %></p></td>
    <td><p class="message_text"><%= link_to 'Delete', message, confirm: 'Are you sure?', method: :delete %></p></td> <!-- it's not a bug, it's a feature! (Delete Outgoingmessage->Delete Ingoingmessage)-->
  </tr>
<% end %>
</table>

<br />
<br />
<br />

<%= link_to 'New Message', new_message_path %>

<!-- 
<br />
<br />

<%= link_to 'Back', profiles_path %> -->
